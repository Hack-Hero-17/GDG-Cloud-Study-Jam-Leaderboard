<!-- Header -->
<header class="d-flex align-items-center justify-content-between bg-light p-3">
  <img src="assets/gdg.png" alt="GDG Logo" class="header-logo" />
  <div class="header-title-container">
    <h1 class="header-title d-none d-md-block">
      Google Developer Groups On Campus <br />
      Madras Institute of Technology
    </h1>
    <h1 class="header-title d-md-none">GDG - MIT</h1>
  </div>
  <img
    src="assets/AU.png"
    alt="AU Logo"
    class="header-logo d-none d-md-block"
  />
</header>

<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white">
  <div class="container">
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item">
          <a class="nav-link active" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#leaderboard">Leaderboard</a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="https://gdg.community.dev/gdg-on-campus-madras-institute-of-technology-chennai-india/"
            target="_blank"
            >Community</a
          >
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="navbarDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Resources
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li>
              <a
                class="dropdown-item"
                href="https://www.instagram.com/p/DAnGLEbNbgz/"
                >Onboarding Guide</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                href="https://gen-ai-tutorials.netlify.app/"
                >Cloud Study Jam Tutorials</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                href="https://docs.google.com/spreadsheets/d/1XoxkJ4OvDwN44iDJt6EUesfuJIYiBj8Y5vl_sVL_dKk/pubhtml?gid=0&single=true"
                >Syllabus</a
              >
            </li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://forms.gle/8fzdaf1Pz2YkBbnA8"
            >Contact</a
          >
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Carousel -->
<!-- MODIFIED: Added data-bs-ride="carousel" to enable automatic sliding -->
<div
  id="carouselExampleCaptions"
  class="container carousel slide carousel-fade py-5"
  data-bs-ride="carousel"
  data-bs-interval="4000"
>
  <div class="carousel-indicators">
    <button
      type="button"
      data-bs-target="#carouselExampleCaptions"
      data-bs-slide-to="0"
      class="active"
      aria-current="true"
      aria-label="Slide 1"
    ></button>
    <button
      type="button"
      data-bs-target="#carouselExampleCaptions"
      data-bs-slide-to="1"
      aria-label="Slide 2"
    ></button>
    <button
      type="button"
      data-bs-target="#carouselExampleCaptions"
      data-bs-slide-to="2"
      aria-label="Slide 3"
    ></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img
        src="assets/slide-0.png"
        class="d-block mx-auto w-100 carousel-image"
        alt="Slide 1"
      />
    </div>
    <div class="carousel-item">
      <img
        src="assets/slide-2.png"
        class="d-block mx-auto w-100 carousel-image"
        alt="Slide 2"
      />
    </div>
    <div class="carousel-item">
      <img
        src="assets/slide-3.png"
        class="d-block mx-auto w-100 carousel-image"
        alt="Slide 3"
      />
    </div>
  </div>
  <button
    class="carousel-control-prev"
    type="button"
    data-bs-target="#carouselExampleCaptions"
    data-bs-slide="prev"
  >
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button
    class="carousel-control-next"
    type="button"
    data-bs-target="#carouselExampleCaptions"
    data-bs-slide="next"
  >
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<!-- About Section -->
<div class="container my-5">
  <div class="row align-items-center">
    <div class="col-lg-6 col-md-6 col-sm-12 mb-4 mb-md-0">
      <img
        src="assets/gdg-mit.png"
        class="img-fluid"
        alt="GenAI Program Image"
      />
    </div>
    <div class="col-lg-6 col-md-6 col-sm-12">
      <h3 class="about-heading">About Cloud Study Jam</h3>
      <p class="about-paragraph">
        The Cloud Study Jam provides a direct, hands-on path to mastering
        essential cloud computing concepts. Through a series of guided labs in a
        live cloud environment, you'll solve real-world problems and gain
        practical, job-ready experience. This interactive format is designed to
        help you build confidence with industry-leading tools at your own pace.
        Completing the quests earns you official Google Cloud skill
        badges—verifiable credentials that validate your abilities. Add these to
        your professional profiles to supercharge your technical resume and
        showcase your new expertise.
      </p>
    </div>
  </div>
</div>
<!-- Leaderboard Section -->
<div class="container my-4" id="leaderboard">
  <h2 class="genai-heading">Cloud Study Jam Leaderboard</h2>

  <!-- Important Updates Alert Box -->
  <div class="alert alert-warning p-4" role="alert">
    <h4 class="alert-heading text-center my-2">
      <i class="fas fa-triangle-exclamation"></i> Important Updates & Reminders
    </h4>
    <p>
      <strong>Leaderboard Status:</strong> The leaderboard is now updated with
      all badge completions and progress as of Nov 1, 5 pm. Please note that the
      leaderboard will not be updated further. Check your current standing!
    </p>
    <p>
      <strong>Swag Eligibility:</strong> Only those who completed the course
      requirements before Nov 1, 5 pm are eligible for Google goodies. We will
      reach out to the eligible candidates on Nov 17, 2024.
    </p>
    <p>
      <strong>Missed the Deadline?</strong> If you didn’t qualify this time,
      don’t worry—you’ve still gained valuable skills! More campaigns are on the
      way, so stay connected with us on social media.
    </p>
  </div>

  <!-- Controls: Search + Pagination Dropdown -->
  <div class="controls-container">
    <div class="search-wrapper">
      <i class="fas fa-search search-icon"></i>
      <input
        type="text"
        class="form-control search-input"
        placeholder="Search your name..."
        [(ngModel)]="searchText"
        (input)="filterProfiles()"
      />
      <button class="clear-btn" (click)="clearSearch()" *ngIf="searchText">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="page-size-wrapper">
      <label for="pageSizeSelect" class="page-size-label">Show:</label>
      <select
        id="pageSizeSelect"
        class="form-select page-size-select"
        (change)="onPageChange($event)"
      >
        <option value="5">5</option>
        <option value="15">15</option>
        <option value="25">25</option>
        <option value="50">50</option>
      </select>
    </div>
  </div>

  <!-- Leaderboard Cards -->
  <div class="cards-grid">
    <div class="profile-card" *ngFor="let profile of paginatedProfiles">
      <div class="rank">#{{ profile.rank }}</div>
      <img class="profile-pic" src="assets/imageGDG.jpg" alt="Profile Image" />
      <div class="card-content">
        <h3 class="username">{{ profile.username }}</h3>
        <p class="email-link">
          <i class="fas fa-envelope"></i> {{ profile.email }}
        </p>
        <a [href]="profile.skillsBoostUrl" target="_blank" class="profile-link">
          <i class="fas fa-user-circle"></i> View Skills Boost Profile
        </a>
      </div>
      <div class="stats">
        <div class="stat-item">
          <i class="fas fa-medal stat-icon badge-icon"></i>
          <span class="stat-value">{{ profile.badges }}</span>
          <span class="stat-label">Badges</span>
        </div>
        <div class="stat-item">
          <i
            class="fas fa-gamepad stat-icon arcade-icon"
            [class.completed]="profile.arcade_status > 0"
          ></i>
          <span class="stat-label">Arcade</span>
        </div>
        <div class="stat-item">
          <i
            class="fas fa-box-open stat-icon swag-icon"
            [class.completed]="profile.swag"
          ></i>
          <span class="stat-label">Swag</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination Controls at Bottom -->
  <div class="pagination" *ngIf="totalPages > 1">
    <button
      class="pagination-arrow"
      (click)="previousPage()"
      [disabled]="pg === 1"
    >
      <i class="fas fa-chevron-left"></i>
    </button>
    <ng-container *ngFor="let page of pageNumbers">
      <ng-container
        *ngIf="
          (page >= pg - 1 && page <= pg + 1) ||
          page === 1 ||
          page === totalPages
        "
      >
        <button
          class="pagination-btn"
          (click)="goToPage(page)"
          [class.active]="pg === page"
        >
          {{ page }}
        </button>
      </ng-container>
      <ng-container
        *ngIf="
          (page === pg - 2 && pg > 3) ||
          (page === pg + 2 && pg < totalPages - 2)
        "
      >
        <span class="pagination-dots">...</span>
      </ng-container>
    </ng-container>
    <button
      class="pagination-arrow"
      (click)="nextPage()"
      [disabled]="pg === totalPages"
    >
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>

  <div *ngIf="filteredProfiles.length === 0" class="text-center mt-4">
    No profiles found.
  </div>
</div>
